<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DMG-CPU B - Wave Diagrams</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Signal wave diagrams that complement the DMG-CPU B schematics to help understand the function of some circuits.">
<style>img { max-width: 100%; display: inline; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js" type="text/javascript"></script>
</head>
<body onload="WaveDrom.ProcessAll()">
<main><h1>DMG-CPU B - Wave Diagrams</h1>
<h2>Clocks</h2>
<script type="WaveDrom">
{signal: [
  {name: 'ATAL_4MHz',  wave: '10101010101010101010101010'},
  {name: '/T1T2',      wave: '1.0.......................'},
  {name: 'ADYK',       wave: '0....1...0...1...0...1...0'},
  {name: 'AFUR',       wave: '0.1...0...1...0...1...0...'},
  {name: 'ALEF',       wave: '0..1...0...1...0...1...0..'},
  {name: 'APUK',       wave: '0...1...0...1...0...1...0.'},
  {name: 'CPU_T4',     wave: '1.0.....1.0.....1.0.....1.'},
  {name: '/CPU_T4',    wave: '0.1.....0.1.....0.1.....0.'},
  {name: 'CPU_PHI',    wave: '0.1...0...1...0...1...0...'},
  {name: 'BOGA',       wave: '0.10......10......10......'},
  {name: 'DATA_VALID', wave: '1.01......01......01......'},
  {name: 'AFAS',       wave: '0.....1..0....1..0....1..0'},
  {name: 'MREQ',       wave: '1.01......01......01......'},
  {name: 'ABUZ',       wave: '1.0.1.....0.1.....0.1.....'},
  {name: 'BUKE',       wave: '0.10....1..0....1..0....1.'}
]}
</script>
<p>
CPU_PHI = AFUR.Q<br>
<span style="text-decoration:overline">CPU_T4</span> = APUK.Q &or; AFUR.Q<br>
BOGA = (<span style="text-decoration:overline">ALEF.Q</span> &and; AFUR.Q &and; <span style="text-decoration:overline">CPU_T4</span> &and; CPU_PHI) &or; <span style="text-decoration:overline">OSC_ENA</span><br>
AFAS = &not;(<span style="text-decoration:overline">ADYK.Q</span> &or; AFUR.Q)<br>
ABUZ = MREQ &and; (APUK.Q &or; <span style="text-decoration:overline">AFUR.Q</span>)<br>
BUKE = &not;(ALEF.Q &or; APUK.Q)
</p>
<h2>APU Clocks</h2>
<script type="WaveDrom">
{signal: [
  {name: '512Hz',       wave: '0...1...0...1...0...1...0...1...0...1...0...1...0...1...0...1...0...'},
  {name: '/RESET',      wave: '0.1.................................................................'},
  {name: 'HORU',        wave: '1...0...1...0...1...0...1...0...1...0...1...0...1...0...1...0...1...'},
  {name: 'BUFY',        wave: '0...1.......0.......1.......0.......1.......0.......1.......0.......'},
  {name: 'BYFE',        wave: '0...........1...............0...............1...............0.......'}
]}
</script>
<h2>APU Channel 1</h2>
<script type="WaveDrom">
{signal: [
  {name: 'AJER_2MHz',  wave: '10101010101010101|10101010101010101010101'},
  {name: 'CATE_128Hz', wave: '1..0.............|1..0...................'},
  {name: 'SWEEPTIMER', wave: '2..22............|2..22..................', data: [6, 7, 6, 6, 7, 6]},
  {name: 'BEXA',       wave: '0...1.0..........|....1.0................'},
  {name: '/LD_SHIFT',  wave: '1...0.1..........|....0.1................'},
  {name: 'FREQ_UPD',   wave: '0................|....1.0................'},
  {name: 'CH1_1MHz',   wave: '01.0.1.0.1.0.1.0.|.1.0.1.0.1.0.1.0.1.0.1.'},
  {name: 'SHIFT',      wave: '2................|2......................', data: ["0 = NO SWEEP", 3]},
  {name: 'SHIFTCOUNT', wave: '2................|....2..2...2...2.......', data: [7, 4, 5, 6, 7]},
  {name: 'LD_SUM',     wave: '1...0...1........|....0...........1......'},
  {name: '/SHIFT_EN',  wave: '1...0...1........|....0...........1......'},
  {name: 'SHIFT_CLK',  wave: '1................|.....0.1.0.1.0.1.......'},
  {},
  {name: 'AJER_2MHz',  wave: '10101010101010101|10101010101010101010101'},
  {name: 'CH1_1MHz',   wave: '01.0.1.0.1.0.1.0.|.1.0.1.0.1.0.1.0.1.0.1.'},
  {name: 'CATE_128Hz', wave: '1..0.............|1..0...................'},
  {name: 'SWEEPTIMER', wave: '22...............|22.....................', data: [6, 4, 6, 4]},
  {name: 'RESTART',    wave: '01...0...........|.1...0.................'},
  {name: 'RESTART_DLY',wave: '0........1...0...|.........1...0.........'},
  {name: '/LD_SHIFT',  wave: '10...1...........|.0...1.................'},
  {name: 'FREQ_UPD',   wave: '0................|.......................'},
  {name: 'SHIFT',      wave: '2................|2......................', data: ["0 = NO SWEEP", 3]},
  {name: 'SHIFTCOUNT', wave: '2................|22.........2...2...2...', data: [7, 7, 4, 5, 6, 7]},
  {name: 'LD_SUM',     wave: '10...............|10..................1..'},
  {name: '/SHIFT_EN',  wave: '10...............|1........0..........1..'},
  {name: 'SHIFT_CLK',  wave: '1................|.........0.1.0.1.0.1...'}
]}
</script>
<h2>APU Channel 3 - Wave RAM</h2>
<script type="WaveDrom">
{signal: [
  {name: 'APU_4MHZ',   wave: '1010101010101010101|01010101010101010101|0101010101010101'},
  {name: 'CH3_2MHZ',   wave: '0.1.0.1.0.1.0.1.0.1|.0.1.0.1.0.1.0.1.0.1|.0.1.0.1.0.1.0.1'},
  {name: 'CH3_ACTIVE', wave: '1..................|....................|................'},
  {name: 'CH3_RESTART',wave: '0...1...0..........|....................|................'},
  {name: 'CH3_FCOUNT', wave: 'x...3.......3......|.3...33..3...33..3..|.33..3...33..3..', data: ["0x799", "0x79A", "0x7FF", "0x0", "0x7FE", "0x7FF", "0x0", "0x7FE", "0x7FF", "0x0", "0x7FE", "0x7FF", "0x0", "0x7FE", "0x7FF"]},
  {name: 'CH3_TICK',   wave: 'x...1..............|.....0.1.....0.1....|.0.1.....0.1....'},
  {name: 'CH3_FRST',   wave: '0..................|.....1.0.....1.0....|.1.0.....1.0....'},
  {name: 'WAVE_INDEX', wave: 'x...2..............|.......2.......2....|...2.......2....', data: [ 0, 1, 2, 31, 0]},
  {name: 'BUSA.Q',     wave: '0..................|.....1.0.....1.0....|.1.0.....1.0....'},
  {name: 'BANO.Q',     wave: '0..................|......1.0.....1.0...|..1.0.....1.0...'},
  {name: 'AZUS.Q',     wave: '0..................|.......1.0.....1.0..|...1.0.....1.0..'},
  {name: 'AZET.Q',     wave: '0..................|........1.0.....1.0.|....1.0.....1.0.'},
  {name: '/RAM_OE',    wave: '1..................|........0.1.....0.1.|....0.1.....0.1.'},
  {name: '/RAM_CS',    wave: '1..................|.......0..1....0..1.|...0..1....0..1.'},
]}
</script>
<h2>PPU LCD</h2>
<script type="WaveDrom">
{signal: [
  {name: 'PPU_4MHz',    wave: '01010101010101010101010101|0101010101010101010101010101010'},
  {name: 'RESET_VIDEO', wave: '1.0.......................|...............................'},
  {name: 'WUVU./Q',     wave: '1..0.1.0.1.0.1.0.1.0.1.0.1|.0.1.0.1.0.1.0.1.0.1.0.1.0.1.0.'},
  {name: 'XUPY',        wave: '0..1.0.1.0.1.0.1.0.1.0.1.0|.1.0.1.0.1.0.1.0.1.0.1.0.1.0.1.'},
  {name: 'XOCE',        wave: '1.0.1.0.1.0.1.0.1.0.1.0.1.|0.1.0.1.0.1.0.1.0.1.0.1.0.1.0.1'},
  {name: 'XYSO',        wave: '1..01..01..01..01..01..01.|.01..01..01..01..01..01..01..01'},
  {name: 'HCLK',        wave: '0....1...0...1...0...1...0|...1...0...1...0...1...0...1...'},
  {name: "LCD_X",       wave: '2....2.......2.......2....|...2.......2...2...........2...', data: '0x0 0x1 0x2 0x3 0x70 0x71 0x0 0x1' },
  {name: 'VCLK',        wave: '0.........................|...............1.......0.......'}
]}
</script>
<h2>PPU Background/Window Cycles</h2>
<script type="WaveDrom">
{signal: [
  {name: '/PPU_4MHz',       wave: '101010101010101010101010101010101'},
  {name: 'MODE3',           wave: '0...1............................'},
  {name: '/BG_CY_RST',      wave: '0...1..........01..............01'},
  {name: 'LAXU.Q',          wave: '0....1.0.1.0.1.0.1.0.1.0.1.....0.'},
  {name: 'MESU.Q',          wave: '0......1...0.......1...0.........'},
  {name: 'NYVA.Q',          wave: '0..........1...0.......1.......0.'},
  {name: 'LYRY',            wave: '0............1.0.........1.....0.'},
  {name: 'TM_BP_CYS',       wave: '1..........................0...1.'},
  {name: 'TM_CY',           wave: '1......0.......1...0...........1.'},
  {name: 'BP_CY',           wave: '0......1.......0...1.......0.....'},
  {name: 'BP_SEL',          wave: '0..........1...0.......1...0.....'},
  {name: 'LYZU',            wave: '0.....1.0.1.0.1.0.1.0.1.0.1.....0'},
  {name: 'MYSO',            wave: '0....10..10..10..10..10..10......'},
  {name: '/LATCH_BG_BP_A',  wave: '0........10..........10..........'},
  {name: '/CLK_BG_BP_B',    wave: '0....10..........10..............'},
  {name: 'NYKA.Q',          wave: '0.............1.0.........1.0....'},
  {name: 'PORY.Q',          wave: '0..............1.0.........1.0...'},
  {name: 'PYGO.Q',          wave: '0...............1.0.........1.0..'},
  {name: 'TAVE',            wave: '0..............10................'},
  {name: 'ROXO',            wave: '0...............10101010101010101'},
  {name: 'RYKU.Q',          wave: '0................1.0.1.0.1.0.1.0.'},
  {name: 'ROGA.Q',          wave: '0..................1...0...1...0.'},
  {name: 'RUBU.Q',          wave: '0......................1.......0.'},
  {name: 'ROZE',            wave: '1............................0.1.'},
  {name: 'SEGU',            wave: '1...............01010101010101010'},
  {name: 'RYFA.Q',          wave: '0..............................1.'},
  {name: 'RENE.Q',          wave: '0...............................1'},
  {name: 'TEVO',            wave: '0..............10..............10'}
]}
</script>
</main><footer><hr>
<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
</footer></body>
</html>
